#include<stdio.h>
#include<stdlib.h>
void createnode();
void insertbeg();
void insertend();
void insertmiddle();
void display();
struct node
{
  int data;
  struct node *next;
}*head=NULL,*tail=NULL, *temp=NULL,*p=NULL;

int main()
{
    int choice;
     int count=0;
//does the insertion for count of 5
   do
   {
    createnode();
    printf("1.Insertion at Beginning\n2.Insertion at End\n");
    scanf("%d",&choice);
    if(choice==1)
    insertbeg();
    else
    insertend();
    count++;
}while(count<5);
insertmiddle();
    display();
}

void createnode()
{
    int value;
    printf("Enter data");
    scanf("%d",&value);
     temp=(struct node*)malloc(sizeof(struct node));
    temp->data=value;
    temp->next=NULL;
}

void insertbeg()
{

  if(head==NULL)
  {
    head=tail=temp;
   temp=NULL;
  }
  else
  {
    temp->next=head;
    head=temp;
    temp=NULL;
  }
}

void insertend()
{
     if(head==NULL)
  {
    head=tail=temp;
   temp=NULL;
  }
  else
  {
      tail->next=temp;
      tail=temp;
      temp=NULL;
  }
}

void display()
{
    if(head==NULL)
    {
        printf("List is empty");
    }
    else
    {
    temp=(struct node*)malloc(sizeof(struct node));
    temp=head;
    while(temp!=NULL)
    {
        printf("%d\t",temp->data);
        temp=temp->next;
    }


    }
}
void insertmiddle(){
    int pos,i=1;
printf("enter the position to insert value:");
scanf("%d",&pos);
int len=length();
if(pos>len)
    printf("not possible");
else{
    createnode();
    p=head;
    while(i<pos){
        p=p->next;
        i++;
    }
    temp->next=p->next;
    p->next=temp;
    temp=NULL;
    p=NULL;

}
}
int length(){
int i=0;
p=head;
while(p!=NULL){
    p=p->next;
    i++;
}
p=NULL;
return i;
}
